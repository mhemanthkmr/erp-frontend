import{a as c,am as e}from"./index-NNRCG9Rm.js";import{u as j}from"./useDate-Fz8rfIL3.js";import{c as g}from"./calculate-xJ0-_hck.js";import{a8 as v,a6 as m,a9 as a,aa as h}from"./IdurarOs-hOF3usfi.js";import{I as u}from"./index-hp3l0IZ8.js";import{D as b}from"./DeleteOutlined-XARtgMJL.js";function M({field:t,remove:l,current:i=null}){const[n,I]=c.useState(void 0),[y,p]=c.useState(0),[f,d]=c.useState(0),r=j(),N=s=>{d(s)},_=s=>{p(s)};return c.useEffect(()=>{if(i){const{items:s,invoice:x}=i;if(x){const o=x[t.fieldKey];o&&(d(o.quantity),p(o.price))}else{const o=s[t.fieldKey];o&&(d(o.quantity),p(o.price))}}},[i]),c.useEffect(()=>{const s=g.multiply(y,f);I(s)},[y,f]),e.jsxs(v,{gutter:[12,12],style:{position:"relative"},children:[e.jsx(m,{className:"gutter-row",span:5,children:e.jsx(a.Item,{name:[t.name,"itemName"],rules:[{required:!0,message:"Missing itemName name"},{pattern:/^(?!\s*$)[\s\S]+$/,message:"Item Name must contain alphanumeric or special characters"}],children:e.jsx(h,{placeholder:"Item Name"})})}),e.jsx(m,{className:"gutter-row",span:7,children:e.jsx(a.Item,{name:[t.name,"description"],children:e.jsx(h,{placeholder:"description Name"})})}),e.jsx(m,{className:"gutter-row",span:3,children:e.jsx(a.Item,{name:[t.name,"quantity"],rules:[{required:!0}],children:e.jsx(u,{style:{width:"100%"},min:0,onChange:N})})}),e.jsx(m,{className:"gutter-row",span:4,children:e.jsx(a.Item,{name:[t.name,"price"],rules:[{required:!0}],children:e.jsx(u,{className:"moneyInput",onChange:_,min:0,controls:!1,addonAfter:r.currency_position==="after"?r.currency_symbol:void 0,addonBefore:r.currency_position==="before"?r.currency_symbol:void 0})})}),e.jsx(m,{className:"gutter-row",span:5,children:e.jsx(a.Item,{name:[t.name,"total"],children:e.jsx(a.Item,{children:e.jsx(u,{readOnly:!0,className:"moneyInput",value:n,min:0,controls:!1,addonAfter:r.currency_position==="after"?r.currency_symbol:void 0,addonBefore:r.currency_position==="before"?r.currency_symbol:void 0,formatter:s=>r.amountFormatter({amount:s})})})})}),e.jsx("div",{style:{position:"absolute",right:"-20px",top:" 5px"},children:e.jsx(b,{onClick:()=>l(t.name)})})]})}function A({updatePrice:t,value:l=0,readOnly:i=!1}){const n=j();return e.jsx(a.Item,{children:e.jsx(u,{readOnly:i,className:"moneyInput",onChange:t,precision:n.cent_precision?n.cent_precision:2,value:n.amountFormatter({amount:l}),controls:!1,addonAfter:n.currency_position==="after"?n.currency_symbol:void 0,addonBefore:n.currency_position==="before"?n.currency_symbol:void 0})})}export{M as I,A as M};
