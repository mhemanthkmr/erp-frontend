import{aA as x,a as c,am as e,an as D}from"./index-NNRCG9Rm.js";import{C as O,a as S,D as A,b as N,c as R,R as k,U as v,S as w}from"./index-ddq5tu2v.js";import{V as F,a8 as p,a6 as r,O as i,a4 as M}from"./IdurarOs-hOF3usfi.js";import{c as d}from"./actions-l-YzO_Wk.js";import{u}from"./index-vCtOLfRs.js";import{P as z}from"./PlusOutlined-RgQQQ1Jv.js";import{D as H}from"./DeleteOutlined-XARtgMJL.js";function U({config:t,formElements:a,withUpload:n}){const s=F(),{crudContextAction:l,state:j}=u(),{deleteModalLabels:h}=t,{modal:C,editBox:f}=l,{isReadBoxOpen:y,isEditBoxOpen:E}=j,{result:o}=D(R),m=x(),[b,g]=c.useState("");c.useEffect(()=>{if(o){const P=h.map(T=>o[T]).join(" ");g(P)}},[o]);const B=()=>{m(d.currentAction({actionType:"delete",data:o})),C.open()},I=()=>{m(d.currentAction({actionType:"update",data:o})),f.open()},L=y||E?{opacity:1}:{opacity:0};return e.jsxs(e.Fragment,{children:[e.jsxs(p,{style:L,gutter:24,children:[e.jsx(r,{span:10,children:e.jsx("p",{style:{marginBottom:"10px"},children:b})}),e.jsxs(r,{span:14,children:[e.jsx(i,{onClick:B,type:"text",icon:e.jsx(H,{}),size:"small",style:{float:"right",marginLeft:"5px",marginTop:"10px"},children:s("remove")}),e.jsx(i,{onClick:I,type:"text",icon:e.jsx(M,{}),size:"small",style:{float:"right",marginLeft:"0px",marginTop:"10px"},children:s("edit")})]}),e.jsx(r,{span:24,children:e.jsx("div",{className:"line"})}),e.jsx("div",{className:"space10"})]}),e.jsx(k,{config:t}),e.jsx(v,{config:t,formElements:a,withUpload:n})]})}function V({config:t}){const{crudContextAction:a}=u(),{collapsedBox:n}=a,s=()=>{n.close()};return e.jsxs(p,{gutter:8,children:[e.jsx(r,{className:"gutter-row",span:21,children:e.jsx(w,{config:t})}),e.jsx(r,{className:"gutter-row",span:3,children:e.jsx(i,{onClick:s,block:!0,icon:e.jsx(z,{})})})]})}function Y({config:t,createForm:a,updateForm:n,withUpload:s=!1}){const l=x();return c.useLayoutEffect(()=>{l(d.resetState())},[]),e.jsxs(O,{config:t,fixHeaderPanel:e.jsx(V,{config:t}),sidePanelBottomContent:e.jsx(S,{config:t,formElements:a,withUpload:s}),sidePanelTopContent:e.jsx(U,{config:t,formElements:n,withUpload:s}),children:[e.jsx(A,{config:t}),e.jsx(N,{config:t})]})}export{Y as C};
